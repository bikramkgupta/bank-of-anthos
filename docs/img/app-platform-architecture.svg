<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="700" viewBox="0 0 1200 700">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L9,3 L0,6 Z" fill="#2a4a6b"/>
    </marker>
  </defs>
  <style>
    .title { font-family: Helvetica, Arial, sans-serif; font-size: 22px; fill: #1a1a1a; }
    .label { font-family: Helvetica, Arial, sans-serif; font-size: 16px; fill: #1a1a1a; }
    .small { font-family: Helvetica, Arial, sans-serif; font-size: 13px; fill: #394a5a; }
    .box { fill: #f3f6fb; stroke: #2a4a6b; stroke-width: 2; }
    .worker { fill: #e7f7ef; stroke: #1b6b4a; stroke-width: 2; }
    .db { fill: #fff6e5; stroke: #8b5a00; stroke-width: 2; }
    .arrow { stroke: #2a4a6b; stroke-width: 2; marker-end: url(#arrow); }
    .cloud { fill: #eef2f7; stroke: #738395; stroke-width: 2; }
  </style>

  <text x="20" y="32" class="title">DigitalOcean App Platform Architecture</text>

  <ellipse cx="600" cy="70" rx="70" ry="30" class="cloud"/>
  <text x="568" y="75" class="label">Internet</text>
  <line x1="600" y1="100" x2="600" y2="110" class="arrow"/>

  <rect x="450" y="110" width="300" height="70" rx="8" ry="8" class="box"/>
  <text x="520" y="150" class="label">frontend (public)</text>

  <rect x="920" y="110" width="240" height="70" rx="8" ry="8" class="worker"/>
  <text x="945" y="140" class="label">loadgenerator</text>
  <text x="945" y="158" class="small">worker</text>
  <line x1="920" y1="145" x2="750" y2="145" class="arrow"/>

  <text x="40" y="230" class="small">internal services</text>

  <rect x="40" y="250" width="180" height="60" rx="8" ry="8" class="box"/>
  <text x="70" y="285" class="label">userservice</text>

  <rect x="240" y="250" width="180" height="60" rx="8" ry="8" class="box"/>
  <text x="285" y="285" class="label">contacts</text>

  <rect x="440" y="250" width="180" height="60" rx="8" ry="8" class="box"/>
  <text x="470" y="285" class="label">ledgerwriter</text>

  <rect x="640" y="250" width="180" height="60" rx="8" ry="8" class="box"/>
  <text x="665" y="285" class="label">balancereader</text>

  <rect x="840" y="250" width="220" height="60" rx="8" ry="8" class="box"/>
  <text x="865" y="285" class="label">transactionhistory</text>

  <line x1="600" y1="180" x2="130" y2="250" class="arrow"/>
  <line x1="600" y1="180" x2="330" y2="250" class="arrow"/>
  <line x1="600" y1="180" x2="530" y2="250" class="arrow"/>
  <line x1="600" y1="180" x2="730" y2="250" class="arrow"/>
  <line x1="600" y1="180" x2="950" y2="250" class="arrow"/>

  <rect x="170" y="420" width="240" height="70" rx="8" ry="8" class="db"/>
  <text x="215" y="455" class="label">accountsdb</text>
  <text x="215" y="474" class="small">managed Postgres</text>

  <rect x="700" y="420" width="240" height="70" rx="8" ry="8" class="db"/>
  <text x="760" y="455" class="label">ledgerdb</text>
  <text x="760" y="474" class="small">managed Postgres</text>

  <line x1="130" y1="310" x2="260" y2="420" class="arrow"/>
  <line x1="330" y1="310" x2="320" y2="420" class="arrow"/>

  <line x1="530" y1="310" x2="820" y2="420" class="arrow"/>
  <line x1="730" y1="310" x2="820" y2="420" class="arrow"/>
  <line x1="950" y1="310" x2="820" y2="420" class="arrow"/>
</svg>
